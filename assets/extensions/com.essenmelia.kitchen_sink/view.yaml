type: column
props:
  padding: 16
children:
  - type: text
    props:
      text: "Material 3 组件库"
      textStyle: "headlineSmall"
      textColor: "primary"
      margin: { bottom: 16 }

  # 基础输入
  - type: settings_group
    props:
      title: "基础输入"
      items:
        - type: container
          props: { padding: 16 }
          children:
            - type: column
              children:
                - type: textfield
                  props:
                    label: "你的名字"
                    hint: "输入点什么..."
                    stateKey: "user_name"
                    margin: { bottom: 12 }
                - type: slider
                  props:
                    label: "缩放比例"
                    stateKey: "zoom_level"
                    min: 0
                    max: 100
                    divisions: 10

  # 开关与选择
  - type: settings_group
    props:
      title: "开关与选择"
      items:
        - type: list_tile
          props:
            title: "实验室功能"
            subtitle: "当前状态: $state.is_lab_enabled"
            icon: 0xeb3c # science
            trailing:
              type: switch
              props: { stateKey: "is_lab_enabled" }
        - type: container
          props: { padding: 16 }
          children:
            - type: column
              crossAxisAlignment: "start"
              children:
                - type: text
                  props: { text: "选择模式", textStyle: "labelLarge", margin: { bottom: 8 } }
                - type: segmented_button
                  props:
                    stateKey: "app_mode"
                    segments:
                      - { value: "auto", label: "自动", icon: 0xe8b8 }
                      - { value: "light", label: "明亮", icon: 0xe518 }
                      - { value: "dark", label: "深色", icon: 0xe3a9 }

  # 交互与反馈
  - type: settings_group
    props:
      title: "交互与反馈 ($state.counter)"
      items:
        - type: container
          props: { padding: 16 }
          children:
            - type: row
              props: { mainAxisAlignment: "spaceAround" }
              children:
                - type: button
                  props:
                    label: "减少"
                    variant: "outlined"
                    icon: 0xe15b # remove
                  onTap: decrementCounter
                - type: button
                  props:
                    label: "增加"
                    variant: "tonal"
                    icon: 0xe145 # add
                  onTap: incrementCounter
        - type: list_tile
          props:
            title: "弹出对话框"
            subtitle: "测试 Promise 回调"
            icon: 0xe8cd # question_answer
            showChevron: true
          onTap: showDialog

  # 媒体与进度
  - type: settings_group
    props:
      title: "媒体与进度"
      items:
        - type: container
          props: { padding: 16 }
          children:
            - type: column
              children:
                - type: card
                  props: { variant: "outlined", borderRadius: 12 }
                  children:
                    - type: image
                      props:
                        url: "https://picsum.photos/seed/essenmelia/400/200"
                        height: 120
                        fit: "cover"
                        borderRadius: 12
                - type: sized_box { height: 16 }
                - type: row
                  children:
                    - type: badge
                      props: { label: "NEW", backgroundColor: "tertiaryContainer", textColor: "tertiary" }
                    - type: sized_box { width: 8 }
                    - type: text
                      props: { text: "同步进度", textStyle: "labelLarge" }
                - type: sized_box { height: 8 }
                - type: linear_progress
                  props:
                    value: 0.6
                    color: "primary"

  - type: sized_box { height: 24 }
  - type: button
    props:
      label: "清除所有数据"
      variant: "text"
      textColor: "error"
      width: "max"
    onTap: resetAll
